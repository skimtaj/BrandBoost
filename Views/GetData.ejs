<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4.4.1/dist/css/bootstrap.min.css" integrity="sha384-Vkoo8x4CGsO3+Hhxv8T/Q5PaXtkKtu6ug5TOeNV6gBiFeWPGFN9MuhOf23Q9Ifjh" crossorigin="anonymous">
</head>

<style> 

  #noDataMessage {
            display: none;
            color: red;
            font-weight: bold;
        }

.search-input {
            margin-bottom: 20px;
        }
.container{

    margin-top: 30px;
    padding : 20px;
    box-shadow: rgba(0, 0, 0, 0.35) 0px 5px 15px;
}

.table{

    margin-top: 35px;
}

h2{

    margin-left: -100px;

}
</style>

<body>

 
    <div class="container"> 

      
        <div class="row"> 
          <div class="col-md-6"> 

            <a class="btn btn-primary" href="/Student_Registration" role="button">+ Add New</a>

          </div>

          <div class="col-md-6"> 

        <h2> Student Details</h2>

        
        </div>
       
        </div>

        <div class="search-input">
          <input type="text" id="searchInput" class="form-control" placeholder="Search...">
          <button id="searchButton" class="btn btn-primary mt-2">Search</button>
          <div id="noDataMessage"> Data Not Found</div>
      </div>.

    <table class="table">
        <thead>
          <tr>
            <th scope="col">First Name</th>
            <th scope="col">Last First</th>
            <th scope="col">Email</th>
            <th scope="col">Mobile</th>
            <th scope="col">DOB</th>
            <th scope="col">Category</th>
            <th scope="col">Username</th>
            <th scope="col">Passsword</th>
            <th scope="col">Photo</th>
            <th scope="col">Action</th>
          </tr>

          <tbody id="studentTableBody">


            <% Student_Info.forEach(student => { %>
                <tr>
                    <td><%= student.First_Name %></td>
                    <td><%= student.Last_Name %></td>
                    <td><%= student.Email %></td>
                    <td><%= student.Phone_Number %></td>
                    <td><%= student.DOB %></td>
                    <td><%= student.Category %></td>
                    <td><%= student.Username %></td>
                    <td><%= student.Password %></td>
                    <td>
                        <% if (student.Image) { %>
                            <img src="./uploads/<%= student.Image %>" alt="..">
                        <% } else { %>
                            No Image
                        <% } %>
                    </td>

                    <td> <a class="btn btn-primary" href="/Delete/<%= student._id %> " role="button">Delete</a></td>
                </tr>
            <% }); %>

          </tbody>

          
        </thead>
        <tbody>
         

</div>

<script>
  document.getElementById('searchButton').addEventListener('click', function() {
      var searchTerm = document.getElementById('searchInput').value.toLowerCase();
      var tableRows = document.querySelectorAll('#studentTableBody tr');
      var noDataMessage = document.getElementById('noDataMessage');
      var found = false;

      tableRows.forEach(function(row) {
          var cells = row.getElementsByTagName('td');
          var isVisible = Array.from(cells).some(function(cell) {
              return cell.textContent.toLowerCase().includes(searchTerm);
          });
          row.style.display = isVisible ? '' : 'none';
          if (isVisible) {
              found = true;
          }
      });

      noDataMessage.style.display = found ? 'none' : 'block';
  });
</script>



</body>
</html>